/*!
  jQuery inlineOptions Plugin
  Version: 0.1.0
  URL: http://github.com/bpartridg83/inlineOptions-jQuery-plugin
  Description: Transforms <select> options to inline links
  Requires: jQuery 1.4+
  Author: Brian Partridge (http://brianpartridge.com)
  Copyright: Copyright 2011 Brian Partridge
  License: GPL
 */(function(a){a.fn.inlineOptions=function(b){return this.each(function(){b||(b=a(this).data("iop"));a.fn.inlineOptions.create(a(this),b)})};a.fn.inlineOptions.set=function(b){return a.extend({},a.fn.inlineOptions.defaults,b)};a.fn.inlineOptions.create=function(b,e){var f=a.type(b)==="object"?b:a(b),d=a.fn.inlineOptions.set(e);if(!f.parent().hasClass(d.className)){var c=a("<ul />",{"class":d.className});f.wrap(c)}var c=f.parent(),g=f.find("option");c.attr("data-iop",true).data("iop-options",d);if(!c.find("small").length){c.append('<span class="window"><span class="wrapper"></span></span>'); for(var d=0,h=g.length;d<h;d+=1)a("<a />",{text:g.eq(d).text(),href:"#"+g.eq(d).val()}).data("value",g.eq(d).val()).wrap("<li />").parent().appendTo(c),a("<small />",{text:g.eq(d).text()}).appendTo(c.find(".wrapper"));c.find(".window").css({height:c.height()+"px"});c.find("select").bind("change",function(){a.fn.inlineOptions.update(a(this).parent())});c.find("a").bind("click",function(){a(this).closest("ul").find("select").val(a(this).data("value")).trigger("change");return false})}a.fn.inlineOptions.update(c, false);return f};a.fn.inlineOptions.destroy=function(b){var e;e=arguments.length?a.type(b)==="object"?b:a(b):a("select");var f=e.parent(),d=f.data("iop-options");return f.hasClass(d.className)?(f.find("li, span").remove(),e.unwrap().unbind("change"),e):false};a.fn.inlineOptions.update=function(b){var e=arguments;(arguments.length?a.type(b)==="object"?b:a(b):a("[data-iop]")).each(function(){var b=a(this).data("iop-options"),d=(e.length>1?e[1]:b.animate)?b.speed:0,c=a(this).find("select option:selected"), g=c.index(),c=c.closest("ul"),h=c.find("a").eq(g),g=h.outerWidth(),h=h.position().left;c.find(".window").stop().animate({width:g+1,left:h},d,b.easing).fadeIn(d).find(".wrapper").stop().animate({left:-h+2},d,b.easing)})};a.fn.inlineOptions.defaults={animate:true,speed:250,className:"iop",easing:"swing"}})(jQuery);